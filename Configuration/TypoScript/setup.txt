page = PAGE

lib.gridelements {
	defaultGridSetup {
		noTrimWrap = |<div id="c{field:uid}" class="||
		noTrimWrap.insertData = 1
		wrap {
			stdWrap.dataWrap = {field:tx_themes_responsive},{field:tx_themes_behaviour},{field:tx_themes_variants},{field:tx_themes_columnsettings},{field:tx_themes_enforceequalcolumnheight}
			stdWrap.postUserFunc = KayStrobach\Themes\Frontend\CssClassMapper->mapGenericToFramework
			stdWrap.postUserFunc {
				allClassMapping =< lib.cssAllMap
				behaviourClassMapping =< lib.cssBehaviourMap
				rowClassMapping =< lib.cssRowMap
				columnClassMapping =< lib.cssColumnMap
			}
			append = TEXT
			append.value = ">|</div>
		}
	}
}

lib.defaultColumnStdWrap {
	noTrimWrap = |<div class="||
	wrap {
		stdWrap.dataWrap = {field:tx_themes_responsive},{field:tx_themes_behaviour},{field:tx_themes_variants},{field:tx_themes_columnsettings},{field:tx_themes_enforceequalcolumnheight}
		stdWrap.postUserFunc = KayStrobach\Themes\Frontend\CssClassMapper->mapGenericToFramework
		stdWrap.postUserFunc {
			allClassMapping =< lib.cssAllMap
			behaviourClassMapping =< lib.cssBehaviourMap
			columnClassMapping =< lib.cssColumnMap
		}
		append = TEXT
		append.value = ">|</div>
	}
}

<INCLUDE_TYPOSCRIPT: source="DIR:EXT:themes_gridelements/Configuration/Elements/TypoScript" extensions="setupts">
<INCLUDE_TYPOSCRIPT: source="DIR:EXT:themes_gridelements/Configuration/TypoScript/Library" extensions="setupts">

includeLibs.t3jquery = EXT:t3jquery/class.tx_t3jquery.php

tt_content.stdWrap.innerWrap.cObject.if {
  value = gridelements_pi1
  equals.field = CType
  negate = 1
}

tt_content.stdWrap {
	noTrimWrap < lib.defaultColumnStdWrap.noTrimWrap
	noTrimWrap.if {
		value = gridelements_pi1
		equals.field = CType
		negate = 1
	}
	wrap < lib.defaultColumnStdWrap.wrap
	wrap.stdWrap.postUserFunc {
		rowClassMapping >
		columnClassMapping >
	}
	wrap.if {
		value = gridelements_pi1
		equals.field = CType
		negate = 1
	}
}